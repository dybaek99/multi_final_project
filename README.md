# 멀티캠퍼스 최종 프로젝트: 삼성전자 관련 텍스트의 감성 분석과 투자 전략

## 1. 프로젝트 개요
본 프로젝트는 삼성전자 관련 텍스트에 대한 감성 분석 결과(점수 및 레이블)를 실제 주식 수익률과 비교하여, 감정 점수와 레이블을 가중하여 자산 배분에 도움을 주는 전략을 개발하는 것을 목표로 합니다.

## 2. 단계별 세부 내용

### A. 데이터 모으기
1. **한경 애널리스트 리포트**: [한경 컨센서스](https://consensus.hankyung.com/)에서 크롤링.
2. **빅카인즈 뉴스**: [BigKinds](https://www.bigkinds.or.kr/)에서 엑셀 다운로드.

### B. 데이터 정리하기
1. **한경 애널리스트 리포트**: 제목과 상세 내용을 병합.
2. **빅카인즈 뉴스**: 제목과 키워드를 병합.
3. **형태소 분석**: Okt, Hannanum, Kkma, Komoran, Kiwi, Komoran_명사 등의 도구 사용.

### C. 감성 분석
1. **감성 분석 모델**: KoBERT, KoFinBERT, GPT 사용.
2. **감정 분석 절차**:
   1. **모델 선언**: KoBERT, KoFinBERT, GPT 모델 사용.
   2. **데이터셋 준비**: 필요한 데이터셋을 준비.
   3. **텍스트별 감정 점수 산출**: 각 텍스트에 대해 감정 점수(-1 ~ 1) 계산.
   4. **일자별 감정 점수 산출**: 텍스트별 점수를 평균하여 일자별 점수를 계산.

### D. 애널리스트 평가 의견과 감정 분석 레이블 매칭
1. **Train/Test 데이터셋 분리**: 훈련 데이터와 테스트 데이터를 분리.
2. **옵티마이저/손실 함수 정의**: 모델 학습을 위한 옵티마이저와 손실 함수를 정의.
3. **모델 학습**: Train 데이터를 사용해 모델 학습.
4. **모델 평가**: Test 데이터를 사용해 모델 성능 평가.
5. **텍스트 감정 레이블링**: 텍스트에 감정 레이블 부여.

### E. 감정 점수와 레이블 부여
1. **감정 점수**:
   - 범위: `-1`에서 `1` 사이.
   - 레이블: 
     - 긍정(`0 < 점수 ≤ 1`), 
     - 중립(`점수 = 0`), 
     - 부정(`-1 ≤ 점수 < 0`).

### F. 모델 평가 및 자산 배분 시뮬레이션
1. **모델 정확도 측정 및 상관계수 산출**:
   - 삼성전자 주식의 수익률을 1일, 1주(5일), 2주(10일), 1개월(21일) 단위로 산출.
   - 수익률에 따른 레이블 부여 (상승: 1, 보합: 0, 하락: -1).
   - 감정 레이블과 수익률 레이블을 비교하여 정확도 측정.
   - 감정 점수와 수익률의 상관계수 산출
   - 형태소 분석 시 정확도가 낮아, 자산 배분 시뮬레이션은 원 텍스트로 진행.

2. **감정 점수/레이블 가중 자산 배분 시뮬레이션**:
   - 감정 점수 및 레이블을 기반으로 삼성전자와 현금 비중을 결정:
     - **감정 점수에 따른 비중**:
       ```python
       sentiment_to_weight = {
           1: 1, 0.9: 0.95, 0.8: 0.9, 0.7: 0.85, 0.6: 0.8, 
           0.5: 0.75, 0.4: 0.7, 0.3: 0.65, 0.2: 0.6, 0.1: 0.55, 
           0: 0.5, -0.1: 0.45, -0.2: 0.4, -0.3: 0.35, -0.4: 0.3, 
           -0.5: 0.25, -0.6: 0.2, -0.7: 0.15, -0.8: 0.1, -0.9: 0.05, -1: 0
       }
       ```
     - **감정 레이블에 따른 비중**:
       ```python
       label_to_weight = {
           1: 1, 0: 0.5, -1: 0
       }
       ```

3. **거래 수수료, 거래세, 이자 소득세 반영**:
   - **거래 수수료**: 0.013% (매수 및 매도 시 적용).
   - **거래세**: 0.18% (매도 시 적용).
   - **이자 소득세**: 15.4% (이자 발생 시 적용).
